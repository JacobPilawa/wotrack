(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[740],{5097:function(e,t,s){Promise.resolve().then(s.bind(s,7137))},7137:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var r=s(7437),a=s(9376),l=s(3953),i=s(2660),n=s(3850),o=s(525),d=s(1047),c=s(8896),x=s(2258),u=s(3650),h=s(4405),m=s(4968),g=s(1519),f=s(5432),b=s(1436),j=s(7031),p=s(6940),y=s(7059),w=s(2994),k=s(7719),N=s(9640),v=s(1156),W=s(5487),S=s(2265);function C(){let e=(0,a.useRouter)(),{sessions:t}=(0,l.U)(),[s,C]=(0,S.useState)("weight"),D=(0,S.useMemo)(()=>{let e=t.length,s=t.reduce((e,t)=>e+t.totalWeight,0),r=t.filter(e=>{let t=(0,x.D)(e.date);return(0,u._)(t,{start:(0,h.b)((0,m.k)(new Date,7)),end:(0,g.i)(new Date)})}),a={A:t.filter(e=>"A"===e.templateId).length,B:t.filter(e=>"B"===e.templateId).length,C:t.filter(e=>"C"===e.templateId).length};return{totalWorkouts:e,totalWeight:s,thisWeekCount:r.length,workoutTypes:a}},[t]),B=(0,S.useMemo)(()=>{let e=[],s=new Date;for(let r=29;r>=0;r--){let a=(0,m.k)(s,r),l=(0,f.WU)(a,"yyyy-MM-dd"),i=t.filter(e=>e.date.startsWith(l)),n=i.reduce((e,t)=>e+t.totalWeight,0),o=i.length;e.push({date:(0,f.WU)(a,"MMM d"),fullDate:l,weight:n,workouts:o})}return e},[t]);return(0,r.jsx)("main",{className:"min-h-screen bg-gray-50 p-4 pb-24",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-6 pt-4",children:[(0,r.jsx)("button",{onClick:()=>e.push("/"),className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm",children:(0,r.jsx)(i.Z,{className:"w-5 h-5 text-gray-600"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Statistics"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[(0,r.jsx)(n.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-xs font-medium uppercase tracking-wider",children:"Total Workouts"})]}),(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:D.totalWorkouts})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-xs font-medium uppercase tracking-wider",children:"Total Weight"})]}),(0,r.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[Math.round(D.totalWeight).toLocaleString()," ",(0,r.jsx)("span",{className:"text-sm font-normal text-gray-500",children:"lbs"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-xs font-medium uppercase tracking-wider",children:"This Week"})]}),(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:D.thisWeekCount})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[(0,r.jsx)(c.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-xs font-medium uppercase tracking-wider",children:"Consistency"})]}),(0,r.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[D.totalWorkouts>0?Math.round(D.thisWeekCount/7*100):0,"%"]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 mb-6",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Workout Distribution"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Push (A)"}),(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:D.workoutTypes.A})]}),(0,r.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:"".concat(D.totalWorkouts>0?D.workoutTypes.A/D.totalWorkouts*100:0,"%")}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Pull/Balance (B)"}),(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:D.workoutTypes.B})]}),(0,r.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:"".concat(D.totalWorkouts>0?D.workoutTypes.B/D.totalWorkouts*100:0,"%")}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Core/Legs (C)"}),(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:D.workoutTypes.C})]}),(0,r.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-purple-500 h-2 rounded-full transition-all",style:{width:"".concat(D.totalWorkouts>0?D.workoutTypes.C/D.totalWorkouts*100:0,"%")}})})]})]})]}),B.length>0&&(0,r.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-700",children:"30-Day Activity"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>C("weight"),className:"px-3 py-1 text-xs rounded-full transition-colors ".concat("weight"===s?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"),children:"Weight"}),(0,r.jsx)("button",{onClick:()=>C("workouts"),className:"px-3 py-1 text-xs rounded-full transition-colors ".concat("workouts"===s?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"),children:"Workouts"})]})]}),(0,r.jsx)("div",{className:"h-48",children:(0,r.jsx)(b.h,{width:"100%",height:"100%",children:"weight"===s?(0,r.jsxs)(j.v,{data:B,children:[(0,r.jsx)(p.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,r.jsx)(y.K,{dataKey:"date",tick:{fontSize:10},interval:6,axisLine:!1,tickLine:!1}),(0,r.jsx)(w.B,{tick:{fontSize:10},axisLine:!1,tickLine:!1,tickFormatter:e=>"".concat(Math.round(e/1e3),"k")}),(0,r.jsx)(k.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"},formatter:e=>["".concat(Math.round(Number(e)).toLocaleString()," lbs"),"Weight"]}),(0,r.jsx)(N.$Q,{dataKey:"weight",fill:"#3B82F6",radius:[4,4,0,0]})]}):(0,r.jsxs)(v.w,{data:B,children:[(0,r.jsx)(p.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,r.jsx)(y.K,{dataKey:"date",tick:{fontSize:10},interval:6,axisLine:!1,tickLine:!1}),(0,r.jsx)(w.B,{tick:{fontSize:10},axisLine:!1,tickLine:!1,allowDecimals:!1}),(0,r.jsx)(k.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"}}),(0,r.jsx)(W.x1,{type:"monotone",dataKey:"workouts",stroke:"#10B981",strokeWidth:2,dot:{r:3,fill:"#10B981"}})]})})})]})]})})}},3953:function(e,t,s){"use strict";s.d(t,{U:function(){return o},WorkoutProvider:function(){return n}});var r=s(7437),a=s(2265);let l=(0,a.createContext)(void 0),i="workout_sessions";function n(e){let{children:t}=e,[s,n]=(0,a.useState)([]),[o,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{{let e=localStorage.getItem(i);if(e)try{let t=JSON.parse(e);n(t)}catch(e){console.error("Failed to parse stored workouts:",e)}d(!0)}},[]),(0,a.useEffect)(()=>{o&&localStorage.setItem(i,JSON.stringify(s))},[s,o]);let c=e=>{let t=s.filter(t=>t.templateId===e);return t.length>0?t[0]:null};return(0,r.jsx)(l.Provider,{value:{sessions:s,addSession:e=>{n(t=>[e,...t])},deleteSession:e=>{n(t=>t.filter(t=>t.id!==e))},getLastWorkout:c,getDefaultValues:(e,t)=>{let s=c(e);if(!s)return null;let r=s.exercises.find(e=>e.exerciseId===t);if(!r||0===r.sets.length)return null;let a=r.sets[0];return{reps:a.reps,weight:a.weight}},exportData:()=>JSON.stringify({sessions:s,exportDate:new Date().toISOString(),version:"1.0"},null,2),importData:e=>{try{let t=JSON.parse(e);if(t.sessions&&Array.isArray(t.sessions))return n(t.sessions),!0;return!1}catch(e){return console.error("Failed to import data:",e),!1}},getWorkoutsForDateRange:(e,t)=>s.filter(s=>{let r=new Date(s.date);return r>=e&&r<=t}),getTotalWeightForDate:e=>{let t=e.toISOString().split("T")[0];return s.filter(e=>e.date.startsWith(t)).reduce((e,t)=>e+t.totalWeight,0)}},children:t})}function o(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useWorkout must be used within a WorkoutProvider");return e}}},function(e){e.O(0,[349,432,807,971,117,744],function(){return e(e.s=5097)}),_N_E=e.O()}]);